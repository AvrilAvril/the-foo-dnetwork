(this["webpackJsonpthe-foo-dnetwork"]=this["webpackJsonpthe-foo-dnetwork"]||[]).push([[0],{21:function(e,t,n){},32:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(0),r=n.n(c),i=n(25),a=n(23),l=n.n(a),o=(n(32),n(26)),u=n(2),d=n(7),j=n.n(d);n(21);function h(e){var t=e.name,n=e.description,r=e.origin,i=e.pictureURL,a=e.user,l=Object(c.useState)("info"),o=Object(u.a)(l,2),d=o[0],j=o[1],h=Object(c.useState)("Read More"),f=Object(u.a)(h,2),b=f[0],O=f[1],m=function(e){O("Read More"===b?"Read Less":"Read More"),j("info"===d?"info-selected":"info")};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"dishItem",children:[Object(s.jsx)("img",{src:i}),Object(s.jsxs)("div",{className:"hoverPanel",children:[Object(s.jsx)("h3",{children:t}),Object(s.jsxs)("div",{className:"extra",children:[Object(s.jsxs)("p",{children:[" ","by ",a.name," ",a.surname]}),Object(s.jsxs)("p",{onClick:m,className:"pointer",children:[" ",b," "]})]})]})]}),Object(s.jsxs)("div",{className:d,children:[Object(s.jsx)("div",{className:"close",onClick:m,children:"Close"}),Object(s.jsxs)("h5",{children:["\u2013",r]}),Object(s.jsx)("h2",{children:t}),Object(s.jsxs)("h4",{children:[" ","by ",a.name," ",a.surname]}),Object(s.jsxs)("p",{children:[n," "]}),Object(s.jsx)("div",{className:"imageContainer",children:Object(s.jsx)("img",{src:i})})]})]})}function f(e){var t=e.dishesCollection;return Object(s.jsx)("div",{className:"collection",children:t.map((function(e,t){return Object(s.jsx)(h,{name:e.name,description:e.description,pictureURL:e.pictureURL,origin:e.origin,user:e.user},t)}))})}var b=function(e){var t=e.changeQuery,n=Object(c.useState)(""),r=Object(u.a)(n,2),i=r[0],a=r[1];return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(i)},children:[Object(s.jsx)("input",{type:"text",className:"queryField",id:"queryField",name:"queryField",value:i,onChange:function(e){var t=e.target.value;a(t)}}),Object(s.jsx)("button",{type:"submit",className:"bttn",children:"Search"})]})})},O=function(e){var t=e.changeOrigin,n=e.origins,c=e.users,r=e.changeUser,i=e.allDishesHandler,a=function(e){e.preventDefault(),t(e.target.innerText)};return Object(s.jsxs)("div",{className:"origins",children:[Object(s.jsx)("h2",{onClick:i,className:"pointer",children:"All Dishes"}),Object(s.jsx)("h2",{children:"By Provenance"}),Object(s.jsx)("ul",{children:n?n.map((function(e,t){return Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"https://#",onClick:a,children:e})},t)})):null}),Object(s.jsx)("h2",{children:"By Writer"}),Object(s.jsx)("ul",{children:c?c.map((function(e,t){return Object(s.jsx)("li",{children:Object(s.jsxs)("a",{href:"https://#",onClick:function(t){var n;t.preventDefault(),n=e.sys.id,r(n)},children:[e.fields.name," ",e.fields.surname]})},t)})):null})]})},m=function(e){var t=e.changeQuery,n=e.changeOrigin,c=e.origins,r=e.users,i=e.changeUser,a=e.allDishesHandler,l=e.dishesCount;return Object(s.jsxs)("div",{className:"sideBar",children:[Object(s.jsxs)("div",{className:"logo",children:["THE FOO___D ",Object(s.jsx)("br",{})," NETWORK"]}),Object(s.jsxs)("p",{id:"openStatement",children:["We have",l?" ".concat(l):""," dishes from ",c.length," cultures, and by ",r.length," food enthusiasts"]}),Object(s.jsx)(b,{changeQuery:t}),Object(s.jsx)(O,{changeOrigin:n,origins:c,users:r,changeUser:i,allDishesHandler:a})]})};var p=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),a=Object(u.a)(i,2),l=a[0],d=a[1],h=Object(c.useState)([]),b=Object(u.a)(h,2),O=b[0],p=b[1],g=Object(c.useState)(""),x=Object(u.a)(g,2),v=x[0],y=x[1],D=Object(c.useState)([]),N=Object(u.a)(D,2),k=N[0],R=N[1],S=Object(c.useState)(""),U=Object(u.a)(S,2),C=U[0],F=U[1],_=Object(c.useState)(Date.now()),T=Object(u.a)(_,2),B=T[0],E=T[1],I=Object(c.useState)(0),q=Object(u.a)(I,2),z=q[0],M=q[1],P=function(e){var t=[];e.data.items.map((function(n){var s={name:n.fields.dishName,description:n.fields.description,origin:n.fields.origin,user:{id:n.fields.author.sys.id},pictureId:n.fields.picture.sys.id};return e.data.includes.Entry.map((function(e){return e.sys.id===s.user.id&&(s.user.name=e.fields.name,s.user.surname=e.fields.surname,s.user.username=e.fields.username),null})),e.data.includes.Asset.map((function(e){return e.sys.id===s.pictureId&&(s.pictureURL=e.fields.file.url),null})),t.push(s),null})),R(t)};return Object(c.useEffect)((function(){j.a.get("https://cdn.contentful.com/spaces/ngczliqhmrc5/environments/master/entries?access_token=47FZlMTfDlGKzrXJnRUXR5t1DP70hkaQVUfjt0BO-lI&content_type=dish&query="+C).then((function(e){return P(e)})).catch((function(e){return console.error(e)}))}),[C]),Object(c.useEffect)((function(){j.a.get("https://cdn.contentful.com//spaces/ngczliqhmrc5/environments/master/entries?access_token=47FZlMTfDlGKzrXJnRUXR5t1DP70hkaQVUfjt0BO-lI&content_type=dish&fields.author.sys.contentType.sys.id=user&fields.author.sys.id="+l).then((function(e){return P(e)})).catch((function(e){return console.error(e)}))}),[l]),Object(c.useEffect)((function(){j.a.get("https://cdn.contentful.com/spaces/ngczliqhmrc5/environments/master/entries?access_token=47FZlMTfDlGKzrXJnRUXR5t1DP70hkaQVUfjt0BO-lI&content_type=dish&fields.origin[match]="+v).then((function(e){return P(e)})).catch((function(e){return console.error(e)}))}),[v]),Object(c.useEffect)((function(){j.a.get("https://cdn.contentful.com/spaces/ngczliqhmrc5/environments/master/entries?access_token=47FZlMTfDlGKzrXJnRUXR5t1DP70hkaQVUfjt0BO-lI&content_type=dish&order=fields.dishName").then((function(e){P(e),r(e.data.includes.Entry)})).catch((function(e){return console.error(e)})),M(k.length)}),[B]),k&&k.map((function(e){return O.includes(e.origin.trim())||p([].concat(Object(o.a)(O),[e.origin.trim()])),null})),Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsx)(m,{changeQuery:function(e){return F(e)},changeOrigin:function(e){y(e)},changeUser:function(e){return d(e)},allDishesHandler:function(e){e.preventDefault(),E(Date.now())},origins:O,users:n,dishesCount:z}),k.length?Object(s.jsx)(f,{dishesCollection:k}):Object(s.jsx)("h2",{id:"noDishes",children:"Sorry, no dishes for you!!  \ud83d\ude2c"})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),r(e),i(e)}))},x=document.getElementById("root");l.a.render(Object(s.jsx)(i.a,{children:Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(p,{})})}),x),g()}},[[56,1,2]]]);
//# sourceMappingURL=main.31a35837.chunk.js.map